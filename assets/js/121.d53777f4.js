(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{1275:function(s,a,t){"use strict";t.r(a);var e=t(3),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[s._v("#")]),s._v(" 描述")]),s._v(" "),a("p",[s._v("虚拟机安装了ubuntu系统，通过下列命令设置好了root密码：")]),s._v(" "),a("p",[s._v("sudo passwd root")]),s._v(" "),a("p",[s._v("然后注销用户，用root登录，结果一直显示认证失败。")]),s._v(" "),a("p",[s._v("密码我确定没问题，因为普通用户终端切换root可以登录，所以密码无误")]),s._v(" "),a("p",[s._v("Su root  可以正常切换登录")]),s._v(" "),a("p",[s._v("网上搜索了一下，才知道是因为系统禁止了root账户登录图形界面。")]),s._v(" "),a("h2",{attrs:{id:"解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[s._v("#")]),s._v(" 解决方法")]),s._v(" "),a("h3",{attrs:{id:"_1-修改gdm配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-修改gdm配置"}},[s._v("#")]),s._v(" 1.修改gdm配置")]),s._v(" "),a("p",[s._v("输入命令，修改gdm-autologin")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gedit /etc/pam.d/gdm-autologin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("命令成功后打开窗口界面：")]),s._v(" "),a("p",[s._v("注释第三行（加#号）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auth required pam_succeed_if.so user != root quiet_success")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改好后保存关闭即可。")]),s._v(" "),a("h3",{attrs:{id:"_2-输入命令-修改gdm-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-输入命令-修改gdm-password"}},[s._v("#")]),s._v(" 2.输入命令，修改gdm-password")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gedit /etc/pam.d/gdm-password\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("同样注释第三行：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#auth required pam_succeed_if.so user != root quiet_success")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改好后保存关闭即可。")]),s._v(" "),a("h3",{attrs:{id:"_3-修改profile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改profile"}},[s._v("#")]),s._v(" 3.修改profile")]),s._v(" "),a("p",[s._v("输入命令，修改root的profile")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gedit /root/.profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("注释屏蔽掉最后一行，并添加一行：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tty")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" mesg n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("文件修改后保存退出。")]),s._v(" "),a("h3",{attrs:{id:"_4-重启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-重启"}},[s._v("#")]),s._v(" 4.重启")]),s._v(" "),a("p",[s._v("注销系统，然后就可以用root用户名密码登录了。")])])}),[],!1,null,null,null);a.default=r.exports}}]);