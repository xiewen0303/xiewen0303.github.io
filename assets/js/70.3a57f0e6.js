(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1193:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("官方文档：https://arthas.gitee.io/")]),s._v(" "),t("h3",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),t("p",[s._v("下载启动脚本文件 "),t("code",[s._v("as.sh")]),s._v(" 到当前目录")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://arthas.aliyun.com/install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("直接在 shell 下面执行"),t("code",[s._v("./as.sh")]),s._v("，就会进入交互界面")]),s._v(" "),t("h3",{attrs:{id:"实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[s._v("#")]),s._v(" 实战")]),s._v(" "),t("p",[s._v("https://www.cnblogs.com/itxiaoshen/p/15854197.html")]),s._v(" "),t("p",[s._v("https://www.cnblogs.com/yaoyu1983/p/17373522.html")]),s._v(" "),t("p",[s._v("https://blog.csdn.net/weixin_40816738/article/details/123308455")]),s._v(" "),t("p",[s._v("https://wenku.baidu.com/view/9b750a2fff4ffe4733687e21af45b307e871f91e.html?fr=sogou&"),t("em",[s._v("wkts")]),s._v("=1694659165451")]),s._v(" "),t("p",[s._v("https://zhuanlan.zhihu.com/p/322094284")]),s._v(" "),t("h3",{attrs:{id:"问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),t("p",[s._v("1、The telnet port 3658 is used by process 28221 instead of target process 96492, you will connect to an unexpected process")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" The telnet port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3658")]),s._v(" is used by process "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28221")]),s._v(" instead of target process "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("96492")]),s._v(", you will connect to an unexpected process.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Try to restart arthas-boot, "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" process "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28221")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" it first with running the ‘stop’ command.\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". Or try to stop the existing arthas instance: "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" arthas-client.jar "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3658")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" “stop”\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". Or try to use different telnet port, "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" example: "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" arthas-boot.jar --telnet-port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9998")]),s._v(" --http-port "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("上次连接的进程，未正常退出。重新选择上次的连接，执行stop。")]),s._v(" "),t("p",[s._v("如果连接超时，查询端口进程，强制杀掉。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-tln")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-tln")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 端口\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看端口被哪个进程占用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" :端口\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 杀掉进程")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v(" 进程id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("2、arthas报“Can not find java process”")]),s._v(" "),t("p",[s._v("解决方式一：未使用root权限，sudo执行命令")]),s._v(" "),t("p",[s._v("解决方式二：找不到jps命令，默认安装的openjdk是不支持jps的，所以需要卸载Open JDK，\n安装Oracle JDK：https://www.cnblogs.com/andy020/p/17511279.html\nor\n安装关联包：https://blog.51cto.com/u_13890915/4653202")]),s._v(" "),t("p",[s._v("参考：")]),s._v(" "),t("p",[s._v("https://www.cnblogs.com/lyn8100/p/17377845.html")]),s._v(" "),t("p",[s._v("https://zhuanlan.zhihu.com/p/519213445")]),s._v(" "),t("p",[s._v("https://www.bilibili.com/video/BV19k4y1k7o9/")]),s._v(" "),t("p",[s._v("https://zhuanlan.zhihu.com/p/584170583")]),s._v(" "),t("p",[s._v("https://www.cnblogs.com/jaigejiayou/p/15735690.html")])])}),[],!1,null,null,null);t.default=n.exports}}]);