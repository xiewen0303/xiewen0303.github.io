(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1215:function(s,a,n){"use strict";n.r(a);var t=n(3),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1、查看可用的-mongodb-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、查看可用的-mongodb-版本"}},[s._v("#")]),s._v(" 1、查看可用的 MongoDB 版本")]),s._v(" "),a("ol",[a("li",[s._v("访问 MongoDB 镜像库地址： https://hub.docker.com/_/mongo?tab=tags&page=1。可以通过 Sort by 查看其他版本的 MongoDB，默认是最新版本 "),a("strong",[s._v("mongo:latest")]),s._v("。也可以在下拉列表中找到想要的版本。")]),s._v(" "),a("li",[s._v("使用 "),a("strong",[s._v("docker search mongo")]),s._v(" 命令来查看可用版本。")])]),s._v(" "),a("h3",{attrs:{id:"_2、拉取最新版的-mongodb-镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、拉取最新版的-mongodb-镜像"}},[s._v("#")]),s._v(" 2、拉取最新版的 MongoDB 镜像")]),s._v(" "),a("p",[s._v("拉取官方的最新版本的镜像：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mongo:latest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3、查看本地镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看本地镜像"}},[s._v("#")]),s._v(" 3、查看本地镜像")]),s._v(" "),a("p",[s._v("使用以下命令来查看是否已安装了 mongo：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("TAG显示（latest）证明已安装最新版本 mongo 镜像。")]),s._v(" "),a("h3",{attrs:{id:"_4、运行容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、运行容器"}},[s._v("#")]),s._v(" 4、运行容器")]),s._v(" "),a("p",[s._v("安装完成后，使用以下命令来运行 mongo 容器：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v(":27017 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n my-mongo-container mongo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("参数说明：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-d")]),s._v(": 后台运行容器。")]),s._v(" "),a("li",[a("code",[s._v("-p 27017:27017")]),s._v(": 将主机的27017端口映射到容器的27017端口。")]),s._v(" "),a("li",[a("code",[s._v("--name my-mongo-container")]),s._v(": 为容器指定一个名字，这里是"),a("code",[s._v("my-mongo-container")]),s._v("，你可以根据需要更改。")])]),s._v(" "),a("h3",{attrs:{id:"_5、安装成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、安装成功"}},[s._v("#")]),s._v(" 5、安装成功")]),s._v(" "),a("p",[s._v("最后我们可以通过 "),a("strong",[s._v("docker ps")]),s._v(" 命令查看容器的运行信息：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nCONTAINER ID   IMAGE                                      COMMAND                   CREATED          STATUS                          PORTS                                                                                            NAMES\n1e29386a1343   mongo                                      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker-entrypoint.s…"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" seconds ago   Up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" seconds                    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:27017-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v("/tcp, :::27017-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v("/tcp                                                    my-mongo-container\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("能够看到名为 "),a("strong",[s._v("my-mongo-container")]),s._v(" 的 MongoDB 容器正在运行。")]),s._v(" "),a("p",[s._v("接下来可以使用 MongoDB 客户端（例如 mongo shell）连接到运行中的 MongoDB 容器。")]),s._v(" "),a("p",[s._v("你可以使用以下命令连接到 MongoDB：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" my-mongo-container "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\nroot@1e29386a1343:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mongosh --host 127.0.0.1 --port 27017")]),s._v("\nCurrent Mongosh Log ID: 659056f433cd505b37dee3ed\nConnecting to:          mongodb://127.0.0.1:27017/?directConnection"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("serverSelectionTimeoutMS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\nUsing MongoDB:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".5\nUsing Mongosh:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),s._v(".6\n\nFor mongosh info see: https://docs.mongodb.com/mongodb-shell/\n\n\nTo "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" improve our products, anonymous usage data is collected and sent to MongoDB periodically "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("https://www.mongodb.com/legal/privacy-policy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\nYou can opt-out by running the disableTelemetry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" command.\n\n------\n   The server generated these startup warnings when booting:\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-12-30T17:42:24.704+00:00: Access control is not enabled "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the database. Read and "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" access to data and configuration is unrestricted\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-12-30T17:42:24.704+00:00: /sys/kernel/mm/transparent_hugepage/enabled is "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'always'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" We suggest setting it to "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'never'")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-12-30T17:42:24.705+00:00: /sys/kernel/mm/transparent_hugepage/defrag is "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'always'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" We suggest setting it to "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'never'")]),s._v("\n------\n\ntest"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\nroot@1e29386a1343:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("这将连接到本地主机的 27017 端口，你可以根据之前映射的端口进行调整。")]),s._v(" "),a("p",[s._v("进入 MongoDB 容器的 bash shell 命令如下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" my-mongo-container "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("记得在不再需要时停止和删除容器，可以使用以下命令：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop my-mongo-container\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" my-mongo-container\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);