(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{1198:function(s,a,t){"use strict";t.r(a);var n=t(3),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("ç”Ÿäº§ç¯å¢ƒçªç„¶æŠ¥ç³»ç»Ÿç¹å¿™ï¼Œé€šè¿‡æŸ¥çœ‹å½“æ—¶çš„æ—¥å¿—å‘ç°æ¥å£æŠ¥ "),a("strong",[s._v("java.io.IOException:Broken pipe")]),s._v(" ï¼Œå¤ç°æŠ“åŒ…çœ‹åˆ°ç½‘å…³æŠ¥ 504(Gateway Timeout)ã€‚")]),s._v(" "),a("h2",{attrs:{id:"åŸå› åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸå› åˆ†æ"}},[s._v("#")]),s._v(" åŸå› åˆ†æ")]),s._v(" "),a("p",[s._v("éšç€æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œåˆ†é¡µçš„é¡µæ•°ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå½“ç¿»é¡µè¿‡å¤šçš„æ—¶å€™ï¼Œå°±ä¼šäº§ç”Ÿæ·±åˆ†é¡µï¼Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡æ€¥å‰§ä¸‹é™ã€‚")]),s._v(" "),a("h2",{attrs:{id:"é—®é¢˜å®šä½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜å®šä½"}},[s._v("#")]),s._v(" é—®é¢˜å®šä½")]),s._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨arthaså®šä½é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨arthaså®šä½é—®é¢˜"}},[s._v("#")]),s._v(" ä½¿ç”¨arthaså®šä½é—®é¢˜")]),s._v(" "),a("p",[s._v("ä¸€èˆ¬é€šè¿‡ä»£ç reviewï¼Œå°±èƒ½å¤§æ¦‚çŒœæµ‹é—®é¢˜ç‚¹ã€‚å¦‚æœé¡¹ç›®åŸºå»ºæˆç†Ÿï¼Œä½¿ç”¨skywalkingå¯ä»¥çœ‹åˆ°æ¯æ¬¡è¯·æ±‚è€—æ—¶ã€‚ä¹Ÿå¯ä»¥é€šè¿‡arthaså·¥å…·ï¼Œå¸®å¿™å®šä½ä¸‹å…·ä½“çš„è€—æ—¶æ–¹æ³•ã€‚")]),s._v(" "),a("p",[s._v("åœ¨æœåŠ¡å™¨ä¸Šä¸‹è½½arthas")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("// "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://arthas.aliyun.com/arthas-boot.jar\n\nxxl@xxl-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/xxl/tools\nxxl@xxl-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" arthas\nxxl@xxl-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://arthas.aliyun.com/arthas-boot.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å¯åŠ¨arthas")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("xxl@xxl-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" arthas-boot.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("é€‰æ‹©è¦æŠ“å–çš„jaråŒ…")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("xxl@xxl-ubuntu:~/tools/arthas$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" arthas-boot.jar \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" JAVA_HOME: /usr/lib/jvm/java-11-openjdk-amd64\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" arthas-boot version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.7")]),s._v(".1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Can not "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" process. Try to run "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("jps"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" lists the instrumented Java HotSpot VMs on the target system.\nPlease "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" an available pid.\nxxl@xxl-ubuntu:~/tools/arthas$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" arthas-boot.jar \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" JAVA_HOME: /usr/lib/jvm/java-11-openjdk-amd64\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" arthas-boot version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.7")]),s._v(".1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("INFO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Found existing "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" process, please choose one and input the serial number of the process, eg "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Then hit ENTER.\n* "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13059")]),s._v(" xxl-ubuntu-springboot-0.0.1-SNAPSHOT.jar\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("ä½¿ç”¨ stack å‘½ä»¤å¯ä»¥çœ‹åˆ°æ–¹æ³•å†…éƒ¨è°ƒç”¨å‘½ä»¤ ğŸ‘‰ï¼šâ€‹"),a("a",{attrs:{href:"https://arthas.aliyun.com/doc/trace.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("trace | arthas (aliyun.com)"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("// ç±»å+æ–¹æ³•å\nstack com.xxl.xxl.controller.UbuntuController helloUbuntu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("ä¸‹è½½æ’ä»¶ "),a("code",[s._v("arthas idea")]),s._v("ï¼Œåœ¨æ–¹æ³•åä¸Šå³é”® "),a("code",[s._v("Arthas Command")]),s._v(" ï¼Œ"),a("code",[s._v("Trace")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("åˆ°shellä¸­ç²˜è´´å‘½ä»¤ï¼ŒæŸ¥çœ‹æ–¹æ³•å†…è¯¦ç»†è€—æ—¶ä¿¡æ¯")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("arthas@16342"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ trace com.xxl.xxl.controller.UbuntuController helloUbuntu2  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--skipJDKMethod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" \nPress Q or Ctrl+C to abort.\nAffect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("class count: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" , method count: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" cost "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v(" ms, listenerId: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("---ts"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("-09-24 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":50:59"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("thread_name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http-nio-8080-exec-5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("is_daemon")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("priority")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("TCCL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader@7ba8c737\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("---"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".281693ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" com.xxl.xxl.controller.UbuntuController:helloUbuntu2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        `---"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54.11")]),s._v("% "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".152427ms "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" com.xxl.xxl.controller.UbuntuController:add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#20")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"mybatis-plusæ•´åˆp6spyæ‰“å°sqlè€—æ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mybatis-plusæ•´åˆp6spyæ‰“å°sqlè€—æ—¶"}},[s._v("#")]),s._v(" Mybatis-Plusæ•´åˆp6spyæ‰“å°SQLè€—æ—¶")]),s._v(" "),a("p",[s._v("æ·»åŠ ä¾èµ–")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("p6spy"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("p6spy"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("3.9.1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("ä¿®æ”¹æ•°æ®åº“è¿æ¥é…ç½®")]),s._v(" "),a("p",[a("code",[s._v("driver-class-name")]),s._v("ç”¨"),a("code",[s._v("p6spy")]),s._v("æä¾›çš„é©±åŠ¨ç±»")]),s._v(" "),a("p",[a("code",[s._v("url")]),s._v("å‰ç¼€ä¸º"),a("code",[s._v("jdbc:p6spy")]),s._v("è·Ÿç€å†’å·ï¼Œåé¢å¯¹åº”æ•°æ®åº“è¿æ¥åœ°å€")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("datasource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" com.alibaba.druid.pool.DruidDataSource\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("driver-class-name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" com.p6spy.engine.spy.P6SpyDriver\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("p6spy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("3306/test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("?")]),s._v("useUnicode=true"),a("span",{pre:!0,attrs:{class:"token important"}},[s._v("&characterEncoding=utf-8&useSSL=true&serverTimezone=UTC")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å¢åŠ é…ç½®æ–‡ä»¶ï¼šåœ¨resourcesæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºp6spyçš„é…ç½®æ–‡ä»¶"),a("code",[s._v("spy.properties")])]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.2.1ä»¥ä¸Šä½¿ç”¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("modulelist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("com.baomidou.mybatisplus.extension.p6spy.MybatisPlusLogFactory,com.p6spy.engine.outage.P6OutageFactory")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3.2.1ä»¥ä¸‹ä½¿ç”¨æˆ–è€…ä¸é…ç½®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#modulelist=com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰æ—¥å¿—æ‰“å°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("logMessageFormat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("com.baomidou.mybatisplus.extension.p6spy.P6SpyLogger")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#appender=com.baomidou.mybatisplus.extension.p6spy.StdoutLogger")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿè®°å½• sql")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("appender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("com.p6spy.engine.spy.appender.Slf4JLogger")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½® p6spy driver ä»£ç†")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("deregisterdrivers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å–æ¶ˆJDBC URLå‰ç¼€")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("useprefix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®è®°å½• Log ä¾‹å¤–,å¯å»æ‰çš„ç»“æœé›†æœ‰error,info,batch,debug,statement,commit,rollback,result,resultset.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("excludecategories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("info,debug,result,commit,resultset")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ—¥æœŸæ ¼å¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("dateformat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("yyyy-MM-dd HH:mm:ss")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®é™…é©±åŠ¨å¯å¤šä¸ª")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#driverlist=org.h2.Driver")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¯å¦å¼€å¯æ…¢SQLè®°å½•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("outagedetection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ…¢SQLè®°å½•æ ‡å‡† 2 ç§’")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("outagedetectioninterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h2",{attrs:{id:"è§£å†³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³"}},[s._v("#")]),s._v(" è§£å†³")]),s._v(" "),a("p",[s._v("1ã€åˆ†é¡µå…³é—­æŸ¥è¯¢æ€»æ•°")]),s._v(" "),a("p",[s._v("å¦‚æœä½¿ç”¨mybatis-plusæä¾›çš„åˆ†é¡µæ’ä»¶ï¼Œä¼šé»˜è®¤å¼€å¯æŸ¥è¯¢æ€»æ•°çš„SQLï¼Œå¦‚æœä¸éœ€è¦å¯ä»¥å…³é—­å‡å°‘ä¸€æ¬¡æŸ¥è¯¢ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Page")]),s._v(" pageReq "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("plusPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\npageReq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSearchCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("2ã€æ¸¸æ ‡åˆ†é¡µ")]),s._v(" "),a("p",[s._v("æ¸¸æ ‡ç¿»é¡µï¼Œåªè¦å‘½ä¸­ç´¢å¼•ï¼Œé€Ÿåº¦å°±éå¸¸å¿«ï¼Œå’Œæ¶ˆæ¯é‡åŸºæœ¬æ²¡å…³ç³»")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.51cto.com/u_16213305/7029596",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysqlåˆ†é¡µä½¿ç”¨æ¸¸æ ‡_mob64ca12d1a59eçš„æŠ€æœ¯åšå®¢_51CTOåšå®¢"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://baijiahao.baidu.com/s?id=1773258061474240109&wfr=spider&for=pc",target:"_blank",rel:"noopener noreferrer"}},[s._v("è§£å¯†é«˜æ•ˆåˆ†é¡µæŸ¥è¯¢ï¼šJavaå®ç°MySQLåˆ†é¡µçš„å¥¥ç§˜ (baidu.com)"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.zhihu.com/question/590227060/answer/2974873775?utm_id=0",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysql åˆ†é¡µçš„æ–¹æ³•æŠ€å·§æœ‰å“ªäº›ï¼Ÿ - çŸ¥ä¹ (zhihu.com)"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.zhihu.com/question/432910565/answer/2557661575",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQLåˆ†é¡µåˆ°äº†åé¢è¶Šæ¥è¶Šæ…¢ï¼Œæœ‰ä»€ä¹ˆå¥½çš„è§£å†³åŠæ³•ï¼Ÿ - çŸ¥ä¹ (zhihu.com)"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);