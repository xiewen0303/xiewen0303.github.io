(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1166:function(s,a,t){s.exports=t.p+"assets/img/image-20231221232216135.3855724d.png"},1328:function(s,a,t){"use strict";t.r(a);var n=t(3),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"windows安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows安装"}},[s._v("#")]),s._v(" Windows安装")]),s._v(" "),a("h3",{attrs:{id:"_1-下载安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载安装包"}},[s._v("#")]),s._v(" 1. 下载安装包")]),s._v(" "),a("blockquote",[a("p",[s._v("https://www.mongodb.com/try/download/community")])]),s._v(" "),a("p",[s._v("选择zip的格式进行下载")]),s._v(" "),a("p",[a("img",{attrs:{src:t(1166),alt:"image-20231221232216135"}})]),s._v(" "),a("p",[s._v("附加：mongodb的命名格式: x.y.z")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("- y为奇数表示当前版本为开发版,如:1.5.2、4.1.13\n- y为偶数表示当前版本为稳定版,如:1.6.3、4.0.10\n- z为修正版本号,越大越好\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-解压"}},[s._v("#")]),s._v(" 2. 解压")]),s._v(" "),a("p",[s._v("下载完成后得到压缩包，解压；其中的bin目录就存放着mongodb相关的命令")]),s._v(" "),a("h3",{attrs:{id:"_3-安装服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装服务"}},[s._v("#")]),s._v(" 3. 安装服务")]),s._v(" "),a("p",[s._v("首先要在安装目录里创建两个目录：")]),s._v(" "),a("ul",[a("li",[s._v("数据目录：data")]),s._v(" "),a("li",[s._v("日志目录：logs")])]),s._v(" "),a("p",[s._v("然后以管理员模式，切换到安装目录下的bin目录运行以下格式命令来指定mongdb的数据及日志目录（文件的路径中不能包含中文）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),s._v(" 数据目录 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--logpath")]),s._v(" 日志目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("日志名称 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("具体的代码示例如下所示：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),s._v(" D:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Software"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb-4.4.26"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--logpath")]),s._v(" D:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Software"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb-4.4.26"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("logs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("没有任何报错和提示，则代表MongoDB服务创建成功")]),s._v(" "),a("p",[s._v("我们可以进行验证，win+r输入"),a("code",[s._v("services.msc")])]),s._v(" "),a("p",[s._v("看到MongoDB服务即成功")]),s._v(" "),a("p",[s._v("补充一下：如果想要删除MongoDB服务的话")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("SC DELETE MongoDB\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-启动服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-启动服务"}},[s._v("#")]),s._v(" 4. 启动服务")]),s._v(" "),a("p",[s._v("输入以下命令启动服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("net start mongodb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("输入"),a("code",[s._v("http://localhost:27017/")]),s._v("如果看到以下内容,代表启动成功")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("It looks like you are trying to access MongoDB over HTTP on the native driver port.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_5-shell连接登录-退出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-shell连接登录-退出"}},[s._v("#")]),s._v(" 5. shell连接登录&退出")]),s._v(" "),a("p",[s._v("输入以下命令进行登录与退出")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#登录")]),s._v("\nmongo\nmongo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("localhost "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#退出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\t\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("补充语法命令：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),s._v(" 数据目录 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--logpath")]),s._v(" 日志目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("日志名称\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建服务")]),s._v("\nmongod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--remove")]),s._v("\t    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#卸载服务\t\t")]),s._v("\nnet start mongodb\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动服务")]),s._v("\nnet stop mongodb\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭服务")]),s._v("\nmongod "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是处理MongoDB系统的主要进程。它处理数据请求，管理数据存储，和执行后台管理操作。当我们运行mongod命令意味着正在启动MongoDB进程,并且在后台运行。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_6-日志输出配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-日志输出配置"}},[s._v("#")]),s._v(" 6. 日志输出配置")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("IDEA插件：MongoQuery")])]),s._v(" "),a("li",[a("p",[s._v("项目配置文件：")]),s._v(" "),a("p",[s._v("yml配置")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mongodb打印日志")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logging")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("level")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("org.springframework.data.mongodb.core.MongoTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" DEBUG\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("properties配置")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#mongodb打印日志")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("logging.level.org.springframework.data.mongodb.core.MongoTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("DEBUG")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("日志示例")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("DEBUG "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11284")]),s._v(" --- "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("           main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" o.s.data.mongodb.core.MongoTemplate      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" using query: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$and")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$or")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userId"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"abcd"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"price"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$gte")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" fields: Document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" class: class com.example.ademo.model.MongoDbTest "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" collection: mongoDbTest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[s._v("参考资料")]),s._v(" "),a("p",[s._v("[1]. mongodb template打印sql：https://blog.csdn.net/weixin_35754676/article/details/129072221")]),s._v(" "),a("p",[s._v("[2]. MongoDB 性能监控：https://www.mryunwei.com/371009.html")]),s._v(" "),a("p",[s._v("[3]. MongoDB调优-查询优化-MongoDB Profiler：https://www.cnblogs.com/operationhome/p/10728654.html")])])}),[],!1,null,null,null);a.default=e.exports}}]);